<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>달인대보칼국수 매장 찾기</title>

  <style>
    #daebo-store-page{
      --daebo-accent:#783712;
      font-family: system-ui, -apple-system, "Noto Sans KR", sans-serif;
    }

    /* Map Layout */
    #daebo-store-page .store-map { width:100%; height:960px; position:relative; }
    #daebo-store-page .store-map__wrap { width:100%; height:100%; position:relative; }
    #daebo-store-page .store-map__pc { width:100%; height:100%; position:relative; }

    #daebo-store-page .store-map__pc .store-map__sch{
      position:absolute; top:0; left:50%; transform:translateX(-50%);
      max-width:1680px; width:100%; margin:0 auto; z-index:99;
      pointer-events:none;
    }
    #daebo-store-page .store-map__pc .store-map__sch *{ pointer-events:auto; }

    /* Left Search Box */
    #daebo-store-page .store-map__pc .sch__box{
      position:absolute; top:210px; left:0; max-width:480px; width:100%;
    }

    /* search_main.png: 더 아래로 내려서 박스에 걸치게 + 크게 */
    #daebo-store-page .store-map__pc .sch__box::before{
      content:"";
      display:block;
      position:absolute;
      z-index:3;

      width:360px;
      height:170px;

      /* "좀 더 내려" = 음수 값을 줄여서 아래로 이동 */
      top:-110px;

      left:50%;
      transform:translateX(-50%);

      background:url("https://daebo1992.kr/wp-content/uploads/2026/02/search_main.png") no-repeat center/contain;
      pointer-events:none;
    }

    /* 상단 브라운 박스: 위는 둥글게 / 아래는 각지게 */
    #daebo-store-page .store-map__pc .sch__box__wrap{
      background:var(--daebo-accent);
      border-radius:30px 30px 0 0;
      padding:40px 32px 22px;
      position:relative;
      z-index:2;
    }

    #daebo-store-page .store-map__pc .sch__box__tltie{ margin-bottom:14px; }
    #daebo-store-page .store-map__pc .sch__box__tltie p{
      margin:0; font-size:2.4rem; font-weight:800; line-height:1; color:#fff;
    }

    /* 안내 문구 작게 + 줄바꿈 깔끔 */
    #daebo-store-page .store-map__pc .sch__box__tltie span{
      display:block;
      padding-top:8px;
      font-size:1.25rem;
      line-height:1.35;
      font-weight:500;
      color:#f2f2f2;
      word-break:keep-all;
    }

    /* 검색 입력/버튼 정렬(이탈 방지) */
    #daebo-store-page .sch__box__input{
      box-sizing:border-box;
      position:relative;
      width:100%;
      height:56px;
      background:#fff;
      border:1px solid var(--daebo-accent);
      padding-right:56px;
      overflow:hidden;
    }
    #daebo-store-page .sch__box__input input{
      box-sizing:border-box;
      width:100%;
      height:100%;
      font-size:1.5rem;
      font-weight:600;
      padding:0 16px;
      border:0;
      outline:0;
    }
    #daebo-store-page .sch__box__input .input_btn{
      position:absolute;
      top:0;
      right:0;
      width:56px;
      height:56px;
    }
    #daebo-store-page .sch__box__input .input_btn .button{
      display:block;
      width:56px;
      height:56px;
      border:0;
      background:var(--daebo-accent);
      cursor:pointer;
      position:relative;
    }
    /* 돋보기 CSS */
    #daebo-store-page .sch__box__input .input_btn .button::before{
      content:""; position:absolute; width:18px; height:18px; border:2px solid #fff; border-radius:50%;
      left:18px; top:18px;
    }
    #daebo-store-page .sch__box__input .input_btn .button::after{
      content:""; position:absolute; width:10px; height:2px; background:#fff;
      left:34px; top:34px; transform:rotate(45deg);
    }

    /* List Box: 사각으로(상단 박스와 자연스럽게 연결) */
    #daebo-store-page .store-box{
      background:#fff;
      border:1px solid var(--daebo-accent);
      border-top:0;
      border-radius:0;
      padding:20px 18px;
      margin-top:0;
    }
    #daebo-store-page .store-list{
      height:400px;
      overflow-y:auto;
      list-style:none;
      margin:0;
      padding:0;
    }
    #daebo-store-page .store-list li{
      padding:16px 0;
      border-bottom:1px solid #c4c4c4;
      cursor:pointer;
    }
    #daebo-store-page .store-list li:last-child{ border:0; }
    #daebo-store-page .store-list li > div{ padding:0 14px; }
    #daebo-store-page .store_name{
      font-size:1.45rem;
      font-weight:800;
      color:#000;
      text-overflow:ellipsis;
      overflow:hidden;
      white-space:nowrap;
    }
    #daebo-store-page .store_address{
      font-size:1.25rem;
      line-height:1.35;
      color:#000;
      margin:7px 0 2px;
    }
    #daebo-store-page .store_tel{
      font-size:1.25rem;
      font-weight:800;
      color:var(--daebo-accent);
    }
    #daebo-store-page .store-list li.active{
      background:#faf6f3;
      border-left:3px solid var(--daebo-accent);
    }

    /* Pagination */
    #daebo-store-page .pagination{
      display:flex;
      justify-content:center;
      margin-top:14px;
      gap:6px;
      flex-wrap:wrap;
    }
    #daebo-store-page .pagination a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:26px;
      height:26px;
      font-size:1.3rem;
      color:#5c5c5c;
      text-decoration:none;
      user-select:none;
    }
    #daebo-store-page .pagination a.current{ font-weight:900; color:var(--daebo-accent); }
    #daebo-store-page .pagination a.disabled{ opacity:.35; pointer-events:none; }
    #daebo-store-page .pagination a.pagination_prev,
    #daebo-store-page .pagination a.pagination_next{ width:26px; font-weight:900; }
    #daebo-store-page .pagination a.pagination_prev::before{ content:"‹"; font-size:18px; line-height:1; }
    #daebo-store-page .pagination a.pagination_next::before{ content:"›"; font-size:18px; line-height:1; }

    /* Detail Panel */
    #daebo-store-page .sch__info{
      position:absolute;
      top:210px;
      right:0;
      max-width:400px;
      width:100%;
      background:#fff;
      padding:10px;
      display:none;
      box-shadow:0 10px 30px rgba(0,0,0,.15);
    }
    #daebo-store-page .sch__info__wrap{ border:1px solid var(--daebo-accent); padding:16px; }
    #daebo-store-page .sch__info__title{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding-bottom:10px;
      border-bottom:1px solid var(--daebo-accent);
      gap:10px;
    }
    #daebo-store-page .sch__info__title p{
      margin:0;
      font-size:1.6rem;
      font-weight:900;
      color:#000;
      flex:1;
      min-width:0;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }
    #daebo-store-page .sch__info__close{ width:30px; height:30px; }
    #daebo-store-page .sch__info__close .button{
      width:100%; height:100%; border:0; background:transparent; cursor:pointer; position:relative;
    }
    #daebo-store-page .sch__info__close .button::before,
    #daebo-store-page .sch__info__close .button::after{
      content:""; position:absolute; left:50%; top:50%; width:18px; height:2px; background:#111;
      transform-origin:center;
    }
    #daebo-store-page .sch__info__close .button::before{ transform:translate(-50%,-50%) rotate(45deg); }
    #daebo-store-page .sch__info__close .button::after{ transform:translate(-50%,-50%) rotate(-45deg); }

    #daebo-store-page .sch__info__con{ padding:12px 0 8px; }
    #daebo-store-page .sch__info__con dd{
      display:flex;
      gap:10px;
      padding-bottom:9px;
      margin:0;
    }
    #daebo-store-page .sch__info__con dd span{ font-size:1.25rem; color:#000; }
    #daebo-store-page .sch__info__con dd span.con_tit{ width:64px; font-weight:900; }
    #daebo-store-page .sch__info__con dd span:not(.con_tit){ flex:1; }

    #daebo-store-page .daebo-detail-photo img{
      display:block;
      width:100%;
      border-radius:10px;
      margin-top:10px;
    }

    /* 바로가기 버튼 가운데 정렬 */
    #daebo-store-page .daebo-actions{
      margin-top:10px;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    #daebo-store-page .daebo-baro{ display:inline-flex; align-items:center; text-decoration:none; }
    #daebo-store-page .daebo-baro img{ height:34px; display:block; }

    /* Map Canvas */
    #daebo-store-page .store-map__api{ width:100%; height:100%; background:#000; }

    /* Bottom Table */
    #daebo-store-page .store-map__table{ max-width:1680px; margin:34px auto 0; padding:0 15px; }
    #daebo-store-page .table-heading{ position:relative; margin-bottom:12px; }
    #daebo-store-page .sec-tit{ margin:0; font-size:1.9rem; font-weight:900; }
    #daebo-store-page .sec-subtit{ margin:6px 0 0; color:#666; font-size:1.2rem; }
    #daebo-store-page .store-table__sch{ position:absolute; right:0; bottom:0; width:min(420px, 100%); }

    #daebo-store-page table.table{
      table-layout:fixed; border-collapse:collapse; width:100%;
      border-top:2px solid #121212;
    }
    #daebo-store-page .table th, #daebo-store-page .table td{
      font-size:1.25rem;
      padding:12px 10px;
      border-bottom:1px solid #c6c6c6;
      vertical-align:top;
    }
    #daebo-store-page .table th{ background:#f4f6fb; text-align:center; font-weight:900; }
    #daebo-store-page .table td:nth-child(1){ text-align:center; font-weight:900; cursor:pointer; }
    #daebo-store-page .table td:nth-child(2){ text-align:left; cursor:pointer; }
    #daebo-store-page .table td:nth-child(3){ text-align:center; color:#8f8f8f; cursor:pointer; }
    #daebo-store-page tr.active{ background:#faf6f3; }

    @media (max-width:1200px){
      #daebo-store-page .store-map{ height:820px; }
      #daebo-store-page .store-map__pc .sch__box{ top:130px; left:15px; max-width:420px; }
      #daebo-store-page .sch__info{ top:130px; right:15px; max-width:360px; }
      #daebo-store-page .store-map__pc .sch__box::before{
        width:330px; height:155px; top:-100px;
      }
    }
    @media (max-width:900px){
      #daebo-store-page .store-map{ height:760px; }
      #daebo-store-page .store-table__sch{ position:static; margin-top:12px; }
      #daebo-store-page .sch__info{
        position:absolute; left:15px; right:15px; max-width:none; top:auto; bottom:15px;
      }
      #daebo-store-page .store-map__pc .sch__box{
        position:absolute; max-width:none; width:auto; right:15px;
      }
    }
  </style>
</head>

<body style="margin:0;">
  <div id="daebo-store-page">
    <div class="store-map">
      <div class="store-map__wrap">
        <div class="store-map__pc">

          <div class="store-map__sch">
            <div class="sch__box">
              <div class="sch__box__wrap">
                <div class="sch__box__tltie">
                  <p>매장 찾기</p>
                  <span>달인대보칼국수 매장 위치안내 입니다.</span>
                </div>

                <form id="searchForm" onsubmit="return false;">
                  <div class="sch__box__input">
                    <input type="text" id="keyword" placeholder="매장명 또는 주소 검색">
                    <div class="input_btn">
                      <button type="button" id="btnSearch" class="button" aria-label="검색"></button>
                    </div>
                  </div>
                </form>
              </div>

              <div class="store-box">
                <ul class="store-list" id="daebo-left-list"></ul>
                <div class="pagination" id="daebo-left-paging"></div>
              </div>
            </div>

            <div class="sch__info" id="daebo-info">
              <div class="sch__info__wrap">
                <div class="sch__info__title">
                  <p id="daebo-info-title"></p>
                  <div class="sch__info__close">
                    <button type="button" class="button" id="daebo-info-close" aria-label="닫기"></button>
                  </div>
                </div>

                <div class="sch__info__con">
                  <dl>
                    <dd>
                      <span class="con_tit">· 주소</span>
                      <span id="daebo-info-addr"></span>
                    </dd>
                    <dd>
                      <span class="con_tit">· 전화</span>
                      <span id="daebo-info-tel"></span>
                    </dd>
                  </dl>

                  <div class="daebo-detail-photo">
                    <img id="daebo-info-photo" src="" alt="">
                  </div>

                  <div class="daebo-actions">
                    <a id="daebo-baro" class="daebo-baro" target="_blank" rel="noopener" style="display:none;">
                      <img id="daebo-baro-img" src="" alt="바로가기">
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="store-map__api" id="daebo-map"></div>
        </div>
      </div>
    </div>

    <div class="store-map__table">
      <div class="table-heading">
        <p class="sec-tit"><span>달인대보칼국수 매장 리스트</span></p>
        <p class="sec-subtit">전국 매장 리스트 입니다.</p>

        <div class="store-table__sch">
          <form id="searchForm2" onsubmit="return false;">
            <div class="sch__box__input">
              <input type="text" id="keyword2" placeholder="매장명 또는 주소 검색">
              <div class="input_btn">
                <button type="button" id="btnSearch2" class="button" aria-label="검색"></button>
              </div>
            </div>
          </form>
        </div>
      </div>

      <div class="info-tables">
        <table class="table">
          <thead>
            <tr>
              <th style="width:22%;">매장명</th>
              <th style="width:58%;">주소</th>
              <th style="width:20%;">전화번호</th>
            </tr>
          </thead>
          <tbody id="daebo-table-body"></tbody>
        </table>
        <div class="pagination" id="daebo-table-paging"></div>
      </div>
    </div>
  </div>

  <script>
  (() => {
    const CONFIG = {
      // 여기 'a1234'를 지우고 본인 키로 붙여넣기 하세요.
      googleKey: "a1234",
      perPage: 10,
      assets: {
        pin: "https://daebo1992.kr/wp-content/uploads/2026/02/daebo_pin.png",
        photo: "https://daebo1992.kr/wp-content/uploads/2026/02/daedo-map.png",
        baroBtn: "https://daebo1992.kr/wp-content/uploads/2026/02/baro_map.png"
      }
    };

    const stores = [
      {"id":"place-1446545627","name":"달인대보칼국수 본점","address":"서울특별시 강서구 마곡중앙5로 6","tel":"02-3663-9571","lat":37.5594,"lng":126.8294,"naverUrl":"https://m.place.naver.com/place/1446545627/home"},
      {"id":"place-1507475887","name":"달인대보칼국수 양평점","address":"서울 영등포구 선유로 130","tel":"0507-1370-1961","lat":37.534,"lng":126.8945,"naverUrl":"https://m.place.naver.com/place/1507475887/home"},
      {"id":"place-2013225928","name":"달인대보칼국수 강남논현점","address":"서울특별시 강남구 언주로 615","tel":"070-4010-1028","lat":37.5172,"lng":127.0342,"naverUrl":"https://m.place.naver.com/place/2013225928/home"},
      {"id":"place-1055373429","name":"달인대보칼국수 등촌역점","address":"서울 강서구 등촌로 205","tel":"0507-1348-7567","lat":37.5503,"lng":126.8556,"naverUrl":"https://m.place.naver.com/place/1055373429/home"},
      {"id":"place-2073117578","name":"달인대보칼국수 화곡역점","address":"서울 강서구 강서로56길 17","tel":"0507-1477-8874","lat":37.5416,"lng":126.8375,"naverUrl":"https://m.place.naver.com/place/2073117578/home"},
      {"id":"place-1401274289","name":"달인대보칼국수 NC백화점 강서점","address":"서울 강서구 강서로56길 17","tel":"02-2667-9884","lat":37.5416,"lng":126.8375,"naverUrl":"https://m.place.naver.com/place/1401274289/home"},
      {"id":"place-1023286555","name":"달인대보칼국수 고척스카이돔점","address":"서울 구로구 경인로47길 26","tel":"0507-1497-9122","lat":37.4982,"lng":126.867,"naverUrl":"https://m.place.naver.com/place/1023286555/home"},
      {"id":"place-2059699094","name":"달인대보칼국수 신월IC점","address":"서울 양천구 남부순환로 399","tel":"070-4814-0902","lat":37.5246,"lng":126.8356,"naverUrl":"https://m.place.naver.com/place/2059699094/home"},
      {"id":"place-1472557358","name":"달인대보칼국수 장항점","address":"경기 고양시 일산동구 정발산로 24","tel":"0507-1374-7495","lat":37.6596,"lng":126.7693,"naverUrl":"https://m.place.naver.com/place/1472557358/home"},
      {"id":"place-1519949386","name":"달인대보칼국수 백석점","address":"경기 고양시 일산동구 호수로 358-39","tel":"031-902-8265","lat":37.6463,"lng":126.7795,"naverUrl":"https://m.place.naver.com/place/1519949386/home"},
      {"id":"place-1715376131","name":"달인대보칼국수 향동점","address":"경기 고양시 덕양구 향동로 217","tel":"0507-1307-3029","lat":37.6176,"lng":126.8332,"naverUrl":"https://m.place.naver.com/place/1715376131/home"},
      {"id":"place-1851467826","name":"달인대보칼국수 평택점","address":"경기 평택시 고덕여염10길 69","tel":"0507-1373-9859","lat":37.0833,"lng":127.0651,"naverUrl":"https://m.place.naver.com/place/1851467826/home"},
      {"id":"place-2034808379","name":"달인대보칼국수 평택죽백점","address":"경기도 평택시 이화로 214","tel":"0507-1350-1429","lat":37.0041,"lng":127.0855,"naverUrl":"https://m.place.naver.com/place/2034808379/home"},
      {"id":"place-2009495446","name":"달인대보칼국수 송탄서정점","address":"경기도 평택시 서정로 262","tel":"0507-1400-9859","lat":37.0741,"lng":127.0574,"naverUrl":"https://m.place.naver.com/place/2009495446/home"},
      {"id":"place-1698501134","name":"달인대보칼국수 광교점","address":"경기 수원시 영통구 대학4로 9","tel":"0507-1463-1454","lat":37.2866,"lng":127.0485,"naverUrl":"https://m.place.naver.com/place/1698501134/home"},
      {"id":"place-1177479887","name":"달인대보칼국수 뉴코아아울렛 부천점","address":"경기 부천시 원미구 송내대로 239","tel":"0507-1421-8343","lat":37.4889,"lng":126.7546,"naverUrl":"https://m.place.naver.com/place/1177479887/home"},
      {"id":"place-1280359800","name":"달인대보칼국수 부천시청점","address":"경기 부천시 원미구 중동 1301","tel":"0507-1328-3097","lat":37.5034,"lng":126.766,"naverUrl":"https://m.place.naver.com/place/1280359800/home"},
      {"id":"place-1526718076","name":"달인대보칼국수 NC백화점 고잔점","address":"경기 안산시 단원구 광덕대로 194","tel":"0507-1362-4640","lat":37.3175,"lng":126.8332,"naverUrl":"https://m.place.naver.com/place/1526718076/home"},
      {"id":"place-1017387009","name":"달인대보칼국수 뉴코아아울렛 평촌점","address":"경기 안양시 동안구 동안로 119","tel":"0507-1351-5133","lat":37.3894,"lng":126.9516,"naverUrl":"https://m.place.naver.com/place/1017387009/home"},
      {"id":"place-1569892152","name":"달인대보칼국수 산본점","address":"경기 군포시 번영로 504","tel":"0507-1349-2384","lat":37.359,"lng":126.9345,"naverUrl":"https://m.place.naver.com/place/1569892152/home"},
      {"id":"place-1052264408","name":"달인대보칼국수 마석점","address":"경기 남양주시 화도읍 비룡로 221","tel":"0507-1313-5707","lat":37.6489,"lng":127.3106,"naverUrl":"https://m.place.naver.com/place/1052264408/home"},
      {"id":"place-2072711802","name":"달인대보칼국수 검단사거리역점","address":"인천광역시 서구 완정로165번길 7","tel":"0507-1446-1410","lat":37.5963,"lng":126.6751,"naverUrl":"https://m.place.naver.com/place/2072711802/home"},
      {"id":"place-2073662651","name":"달인대보칼국수 현풍점","address":"대구 달성군 현풍읍 테크노대로 40","tel":"0507-1377-3236","lat":35.7031,"lng":128.4255,"naverUrl":"https://m.place.naver.com/place/2073662651/home"},
      {"id":"place-1430584302","name":"달인대보칼국수 동아백화점 쇼핑점","address":"대구 중구 달구벌대로 2085","tel":"0507-1403-3803","lat":35.8678,"lng":128.5945,"naverUrl":"https://m.place.naver.com/place/1430584302/home"},
      {"id":"place-2073128329","name":"달인대보칼국수 죽전점","address":"대구광역시 달서구 달구벌대로 1581","tel":"0507-1323-0177","lat":35.8297,"lng":128.5412,"naverUrl":"https://m.place.naver.com/place/2073128329/home"},
      {"id":"place-2039776671","name":"달인 대보칼국수 월배점","address":"대구광역시 달서구 조암남로32길 20-8","tel":"0507-1456-0182","lat":35.8132,"lng":128.5246,"naverUrl":"https://m.place.naver.com/place/2039776671/home"},
      {"id":"place-1828692572","name":"달인대보칼국수 영천점","address":"경북 영천시 동부로 39","tel":"010-9760-3231","lat":35.9731,"lng":128.9387,"naverUrl":"https://m.place.naver.com/place/1828692572/home"},
      {"id":"place-2020622943","name":"달인대보칼국수 사상점","address":"부산광역시 사상구 사상로250번길 11","tel":"0507-1356-8529","lat":35.1524,"lng":128.9823,"naverUrl":"https://m.place.naver.com/place/2020622943/home"},
      {"id":"place-2040809189","name":"달인대보칼국수 창원중동점","address":"경상남도 창원시 의창구 의창대로266번길 10","tel":"0507-1321-6538","lat":35.254,"lng":128.6407,"naverUrl":"https://m.place.naver.com/place/2040809189/home"},
      {"id":"place-2083963061","name":"달인대보칼국수 양산석산점","address":"경상남도 양산시 동면 석산3길 30","tel":"0507-1394-3071","lat":35.3352,"lng":129.0568,"naverUrl":"https://m.place.naver.com/place/2083963061/home"}
    ];

    const el = {
      map: document.getElementById("daebo-map"),
      keyword: document.getElementById("keyword"),
      btnSearch: document.getElementById("btnSearch"),
      leftList: document.getElementById("daebo-left-list"),
      leftPaging: document.getElementById("daebo-left-paging"),

      info: document.getElementById("daebo-info"),
      infoTitle: document.getElementById("daebo-info-title"),
      infoAddr: document.getElementById("daebo-info-addr"),
      infoTel: document.getElementById("daebo-info-tel"),
      infoPhoto: document.getElementById("daebo-info-photo"),
      infoClose: document.getElementById("daebo-info-close"),
      baro: document.getElementById("daebo-baro"),
      baroImg: document.getElementById("daebo-baro-img"),

      keyword2: document.getElementById("keyword2"),
      btnSearch2: document.getElementById("btnSearch2"),
      tableBody: document.getElementById("daebo-table-body"),
      tablePaging: document.getElementById("daebo-table-paging"),
    };

    const PER_PAGE = CONFIG.perPage || 10;
    const normalizeTel = (t) => String(t||"").replace(/-/g,"");
    const esc = (s) => String(s ?? "").replace(/[&<>"']/g, m => (
      {"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[m]
    ));

    function paginate(list, page){
      const total = list.length;
      const totalPages = Math.max(1, Math.ceil(total / PER_PAGE));
      const p = Math.min(Math.max(1, page), totalPages);
      const start = (p - 1) * PER_PAGE;
      return { page: p, totalPages, items: list.slice(start, start + PER_PAGE) };
    }

    function renderPaging(container, page, totalPages, onClick){
      const groupStart = Math.floor((page - 1) / 10) * 10 + 1;
      const groupEnd = Math.min(groupStart + 9, totalPages);

      let html = '';
      const prevPage = groupStart - 1;
      const nextPage = groupEnd + 1;

      html += `<a href="#" class="pagination_prev ${prevPage < 1 ? "disabled":""}" data-p="${prevPage}"></a>`;
      for(let i = groupStart; i <= groupEnd; i++){
        html += `<a href="#" class="${i === page ? "current":""}" data-p="${i}">${i}</a>`;
      }
      html += `<a href="#" class="pagination_next ${nextPage > totalPages ? "disabled":""}" data-p="${nextPage}"></a>`;

      container.innerHTML = html;
      container.querySelectorAll("a:not(.disabled)").forEach(a => {
        a.addEventListener("click", (e) => {
          e.preventDefault();
          const p = Number(a.dataset.p);
          if (!p || p < 1 || p > totalPages) return;
          onClick(p);
        });
      });
    }

    const S = {
      map: null,
      markers: new Map(),
      filtered: [...stores],
      leftPage: 1,
      tablePage: 1,
      activeId: null,
      googleReady: false
    };

    function loadGoogle(){
      return new Promise((resolve, reject) => {
        if (window.google && google.maps) return resolve();
        window.__daeboInitGoogle = () => resolve();

        const s = document.createElement("script");
        s.async = true; s.defer = true;
        s.src = `https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(CONFIG.googleKey)}&callback=__daeboInitGoogle`;
        s.onerror = reject;
        document.head.appendChild(s);
      });
    }

    function initMap(){
      S.map = new google.maps.Map(el.map, {
        center: { lat: 36.5, lng: 127.5 },
        zoom: 7,
        mapTypeControl: false,
        streetViewControl: false
      });
      S.googleReady = true;
    }

    function clearMarkers(){
      for(const m of S.markers.values()) m.setMap(null);
      S.markers.clear();
    }

    function createMarkers(list){
      if (!S.googleReady) return;
      clearMarkers();

      // 핀 이미지 비율 깨지지 않게(1:1) + 크게
      const PIN_SIZE = 96; // 크기 조절 포인트
      const icon = {
        url: CONFIG.assets.pin,
        scaledSize: new google.maps.Size(PIN_SIZE, PIN_SIZE),
        anchor: new google.maps.Point(PIN_SIZE/2, PIN_SIZE)
      };

      list.forEach(store => {
        if (!store.lat || !store.lng) return;
        const marker = new google.maps.Marker({
          map: S.map,
          position: { lat: Number(store.lat), lng: Number(store.lng) },
          title: store.name || "",
          icon
        });
        marker.addListener("click", () => openStore(store.id));
        S.markers.set(store.id, marker);
      });
    }

    function applyFilter(keyword){
      const k = String(keyword || "").trim().toLowerCase();
      if(!k){
        S.filtered = [...stores];
      } else {
        const kk = k.replace(/-/g,"");
        S.filtered = stores.filter(s => (
          String(s.name||"").toLowerCase().includes(k) ||
          String(s.address||"").toLowerCase().includes(k) ||
          normalizeTel(s.tel).includes(kk)
        ));
      }
      S.leftPage = 1;
      S.tablePage = 1;
      renderLeft();
      renderTable();
      createMarkers(S.filtered);
    }

    function renderLeft(){
      const { page, totalPages, items } = paginate(S.filtered, S.leftPage);
      S.leftPage = page;

      el.leftList.innerHTML = items.map(s => `
        <li data-id="${esc(s.id)}" class="${s.id === S.activeId ? "active":""}">
          <div class="item">
            <p class="store_name">${esc(s.name)}</p>
            <p class="store_address">${esc(s.address)}</p>
            <p class="store_tel">${esc(s.tel)}</p>
          </div>
        </li>
      `).join("");

      el.leftList.querySelectorAll("li").forEach(li => {
        li.addEventListener("click", () => openStore(li.dataset.id));
      });

      renderPaging(el.leftPaging, page, totalPages, (p) => {
        S.leftPage = p;
        renderLeft();
      });
    }

    function renderTable(){
      const { page, totalPages, items } = paginate(S.filtered, S.tablePage);
      S.tablePage = page;

      el.tableBody.innerHTML = items.map(s => `
        <tr data-id="${esc(s.id)}" data-url="${esc(s.naverUrl || "")}" class="${s.id === S.activeId ? "active":""}">
          <td>${esc(s.name)}</td>
          <td>${esc(s.address)}</td>
          <td>${esc(s.tel)}</td>
        </tr>
      `).join("");

      el.tableBody.querySelectorAll("tr").forEach(tr => {
        tr.addEventListener("click", () => {
          const url = tr.dataset.url;
          if (url) window.open(url, "_blank", "noopener");
          else openStore(tr.dataset.id);
        });
      });

      renderPaging(el.tablePaging, page, totalPages, (p) => {
        S.tablePage = p;
        renderTable();
      });
    }

    function openStore(id){
      const store = stores.find(s => s.id === id);
      if(!store) return;

      S.activeId = id;

      if (S.googleReady && store.lat && store.lng){
        S.map.setCenter({ lat:Number(store.lat), lng:Number(store.lng) });
        S.map.setZoom(16);
      }

      el.infoTitle.textContent = store.name || "";
      el.infoAddr.textContent = store.address || "";
      el.infoTel.textContent = store.tel || "";

      el.infoPhoto.src = CONFIG.assets.photo;
      el.baroImg.src = CONFIG.assets.baroBtn;

      if(store.naverUrl){
        el.baro.href = store.naverUrl;
        el.baro.style.display = "inline-flex";
      } else {
        el.baro.removeAttribute("href");
        el.baro.style.display = "none";
      }

      el.info.style.display = "block";

      renderLeft();
      renderTable();
    }

    function closeInfo(){ el.info.style.display = "none"; }

    function bindUI(){
      el.btnSearch.addEventListener("click", () => {
        el.keyword2.value = el.keyword.value;
        applyFilter(el.keyword.value);
      });
      el.keyword.addEventListener("keypress", (e) => {
        if(e.key === "Enter"){
          e.preventDefault();
          el.keyword2.value = el.keyword.value;
          applyFilter(el.keyword.value);
        }
      });

      el.btnSearch2.addEventListener("click", () => {
        el.keyword.value = el.keyword2.value;
        applyFilter(el.keyword2.value);
      });
      el.keyword2.addEventListener("keypress", (e) => {
        if(e.key === "Enter"){
          e.preventDefault();
          el.keyword.value = el.keyword2.value;
          applyFilter(el.keyword2.value);
        }
      });

      el.infoClose.addEventListener("click", closeInfo);
      document.addEventListener("keydown", (e) => {
        if(e.key === "Escape") closeInfo();
      });
    }

    async function boot(){
      bindUI();
      applyFilter("");

      // a1234 그대로면 로딩 안 하게
      if(!CONFIG.googleKey || CONFIG.googleKey === "AIzaSyBDJV3yRvR9pa_D_J5N8Evvw2WLSm7EfMQ"){
        console.warn("구글키 자리(a1234)를 본인 키로 교체하세요.");
        return;
      }

      try{
        await loadGoogle();
        initMap();
        createMarkers(S.filtered);
      }catch(err){
        console.error(err);
      }
    }

    boot();
  })();
  </script>
</body>
</html>
